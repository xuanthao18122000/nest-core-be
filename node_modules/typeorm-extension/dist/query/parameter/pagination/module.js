"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.applyPagination = exports.applyQueryPagination = exports.applyQueryPaginationParseOutput = void 0;
const rapiq_1 = require("rapiq");
/**
 * Apply parsed page/pagination parameter data on the db query.
 *
 * @param query
 * @param data
 */
function applyQueryPaginationParseOutput(query, data) {
    /* istanbul ignore next */
    if (typeof data.limit !== 'undefined') {
        query.take(data.limit);
        if (typeof data.offset === 'undefined') {
            query.skip(0);
        }
    }
    /* istanbul ignore next */
    if (typeof data.offset !== 'undefined') {
        query.skip(data.offset);
    }
    return data;
}
exports.applyQueryPaginationParseOutput = applyQueryPaginationParseOutput;
/**
 * Apply raw page/pagination parameter data on the db query.
 *
 * @param query
 * @param data
 * @param options
 */
function applyQueryPagination(query, data, options) {
    return applyQueryPaginationParseOutput(query, (0, rapiq_1.parseQueryPagination)(data, options));
}
exports.applyQueryPagination = applyQueryPagination;
/**
 * Apply raw page/pagination parameter data on the db query.
 *
 * @param query
 * @param data
 * @param options
 */
function applyPagination(query, data, options) {
    return applyQueryPagination(query, data, options);
}
exports.applyPagination = applyPagination;
