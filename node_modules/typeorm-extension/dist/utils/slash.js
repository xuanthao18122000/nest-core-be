"use strict";
/*
 * Copyright (c) 2022.
 * Author Peter Placzek (tada5hi)
 * For the full copyright and license information,
 * view the LICENSE file that was distributed with this source code.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.withoutTrailingSlash = exports.hasTrailingSlash = void 0;
const TRAILING_SLASH_RE = /\/$|\/\?/;
function hasTrailingSlash(input = '', queryParams = false) {
    if (!queryParams) {
        return input.endsWith('/');
    }
    return TRAILING_SLASH_RE.test(input);
}
exports.hasTrailingSlash = hasTrailingSlash;
function withoutTrailingSlash(input = '', queryParams = false) {
    if (!queryParams) {
        return (hasTrailingSlash(input) ? input.slice(0, -1) : input) || '/';
    }
    if (!hasTrailingSlash(input, true)) {
        return input || '/';
    }
    const [s0, ...s] = input.split('?');
    return (s0.slice(0, -1) || '/') + (s.length ? `?${s.join('?')}` : '');
}
exports.withoutTrailingSlash = withoutTrailingSlash;
