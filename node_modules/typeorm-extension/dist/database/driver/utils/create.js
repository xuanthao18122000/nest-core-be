"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createDriver = void 0;
const DriverFactory_1 = require("typeorm/driver/DriverFactory");
const driversRequireDatabaseOption = [
    'sqlite',
    'better-sqlite3',
];
function createDriver(connectionOptions) {
    const fakeConnection = {
        options: {
            type: connectionOptions.type,
            ...(driversRequireDatabaseOption.indexOf(connectionOptions.type) !== -1 ? {
                database: connectionOptions.database,
            } : {}),
        },
    };
    const driverFactory = new DriverFactory_1.DriverFactory();
    return driverFactory.create(fakeConnection);
}
exports.createDriver = createDriver;
