"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SeederFactoryManager = void 0;
const utils_1 = require("../../utils");
const module_1 = require("./module");
class SeederFactoryManager {
    constructor() {
        this.items = {};
    }
    set(entity, factoryFn) {
        const name = (0, utils_1.getEntityName)(entity);
        this.items[name] = {
            factoryFn,
            entity,
        };
        return this.items[name];
    }
    get(entity) {
        const name = (0, utils_1.getEntityName)(entity);
        if (!(0, utils_1.hasOwnProperty)(this.items, name)) {
            throw new Error(`No seeder factory is registered for the entity: ${name}`);
        }
        return new module_1.SeederFactory({
            factoryFn: this.items[name].factoryFn,
            entity,
            name,
        });
    }
}
exports.SeederFactoryManager = SeederFactoryManager;
